!function(a){var e={};function n(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return a[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=a,n.c=e,n.d=function(a,e,t){n.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:t})},n.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,e){if(1&e&&(a=n(a)),8&e)return a;if(4&e&&"object"==typeof a&&a&&a.__esModule)return a;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var i in a)n.d(t,i,function(e){return a[e]}.bind(null,i));return t},n.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(e,"a",e),e},n.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},n.p="/",n(n.s=265)}({265:function(a,e,n){a.exports=n(266)},266:function(a,e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),$.fn.rowCount=function(){return $("tr",$(this).find("tbody")).length},window.gMapsCallback=function(){$(window).trigger("gMapsLoaded")};var n=$("select#provinsi"),t=$("select#kabkota"),i=$("select#kecamatan"),r=$("select#desa");$.extend({getValues:function(a){var e=null;return $.ajax({url:a,type:"get",dataType:"json",async:!1,success:function(a){e=a}}),e}});var o=function(a,e,n,t){$.ajax({url:a,type:n,timeout:3e4,dataType:"json",data:e,cache:!1,complete:function(a){void 0===a.responseJSON&&(a.responseJSON={code:a.status,message:a.statusText}),"function"==typeof t&&t(a.responseJSON)}})};window.sendData=o;var l=function(a,e){return $.ajax({url:a,dataType:"json",beforeSend:function(){$(".loader").show(),$("#loader-wrapper").show()}})};function s(a){t.html("<option value=''>Pilih Kota..</option>"),l("/api/getkabupaten/"+a).then(function(a){for(var e='<option value="0">Pilih Kota..</option>',n=0;n<a.length;n++){var i=a[n].kode_kab==$("#kode_kab").val()?"selected":"";e+='<option value="'+a[n].kode_kab+'"'+i+">"+a[n].nama_kabupaten+"</option>"}t.select2(),t.html(e),$("#loader-wrapper").hide()})}var d=function(a){i.html("<option value=''>Pilih Kecamatan..</option>"),l("/api/getkecamatan/"+a).then(function(a){for(var e='<option value="0">Pilih Kecamatan..</option>',n=a.data,t=0;t<n.length;t++){var r=n[t].kode_kec==$("#kode_kec").val()?"selected":"";e+='<option value="'+n[t].kode_kec+'" '+r+">"+n[t].nama_kecamatan+"</option>"}console.log(a),i.select2(),i.html(e),$("#loader-wrapper").hide()})};function p(a){r.html("<option value=''>Pilih Desa/Kelurahan..</option>"),l("/api/getdesa/"+a).then(function(a){for(var e='<option value="0">Pilih Desa..</option>',n=0;n<a.length;n++){var t=a[n].kode_kel==$("#kode_kel").val()?"selected":"";e+='<option value="'+a[n].kode_kel+'" '+t+">"+a[n].nama_kelurahan+"</option>"}r.select2(),r.html(e),$("#loader-wrapper").hide()})}window.loadKecamatan=d,function(a,e,n){a("#loader-wrapper").hide(),a(n).ajaxStart(function(){}),a(n).ajaxStop(function(){})}(jQuery,window,document),function(a,e,n){a(".formConfirm").on("click",function(e){if(e.preventDefault(),!a(this).hasClass("disabled")){var n=a(this).parent(),t=n.attr("data-title"),i=n.attr("data-message"),r=n.attr("data-form");a("#formConfirm").find("#frm_body").html("<h6>"+i+"</h6>").end().find("#frm_title").html(t).end().modal("show"),a("#formConfirm").find("#frm_submit").attr("data-form",r)}}),a("#formConfirm").on("click","#frm_submit",function(e){var n=a(this).attr("data-form");a(n).submit()})}(jQuery,window,document),function(a,e,n){a(".formUpload").on("click",function(e){var n=a(this).closest("span").find(".file");n.length>0&&n.trigger("click")}),a(".fileupload:file").change(function(){var n=a(this),t=n.attr("data-url"),i=n.attr("data-path"),r=n.attr("data-type"),o=new FormData(a("*formId*")[0]);if(console.log(n),o.append("_token",e.Laravel.csrfToken),""==r||"single"==r){var l=this.files[0];name=l.name,size=l.size,type=l.type,l.name.length<1||(l.size>209715200?alert("File Terlalu Besar, Maksimal 200 Mb"):"image/png"!=l.type&&"image/jpg"!=l.type&&"image/gif"!=l.type&&"image/jpeg"!=l.type&&"application/pdf"!=l.type&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!=l.type?(alert("File tidak diijinkan untuk di upload"),a(this).val("")):(l.type.match(/.*/)&&o.append("images",l),a.ajax({url:t,type:"POST",data:o,cache:!1,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){a("#loader-wrapper").show()},complete:function(){a("#loader-wrapper").hide()},success:function(e){if(e.error)return!1;a(".txtfoto").length>0&&(n.closest("div.controlupload").find("input.txtfoto").css({color:"peru",border:"2px solid blue"}).val(e.filename),n.parent().parent().parent().find("img.imgfoto").attr("src",i+"/"+e.filename))},error:errorHandler=function(a){alert("Something went wrong!"),console.log(a)}})))}else{for(var s=(l=this.files).length,d=0;d<s;d++)o.append("images[]",l[d]);a.ajax({url:t,type:"POST",data:o,cache:!1,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){a("#loader-wrapper").show()},complete:function(){a("#loader-wrapper").hide()},success:function(e){if(e.error)return!1;if(a(".txtfoto").length>0){n.closest("div.controlupload").find(".txtfoto").css({color:"peru",border:"2px solid blue"}).val(e[0].filename);var t=a('<img id="dynamic">');t.attr("class","img img-thumbnail"),t.attr("src",i+"/"+e[0].filename),n.closest("div.controlupload").prev().append(t)}},error:errorHandler=function(a){alert("Something went wrong!"),console.log(a)}})}}),a("#filedokumentasi").on("change",function(){var n=a(this),t=n.attr("data-url"),i=n.attr("data-path"),r=new FormData(a("*formId*")[0]);r.append("_token",e.Laravel.csrfToken),r.append("path",i);var o=this.files[0];name=o.name,size=o.size,type=o.type,o.name.length<1||(o.size>209715200?alert("File Terlalu Besar, Maksimal 200 Mb"):(o.type.match(/.*/)&&r.append("images",o),a.ajax({url:t,type:"POST",data:r,cache:!1,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){a("#loader-wrapper").show(),a(".btn-simpan").prop("disabled",!0)},complete:function(){a("#loader-wrapper").hide(),a(".btn-simpan").prop("disabled",!1)},success:function(e){a("#images_preview").attr("src","".concat(e.url_location,"/").concat(e.filename)).attr("class","img img-thumbnail"),a("#images_sizes").html(e.sizes),a(".txtfiledokumentasi").css({color:"peru",border:"2px solid blue"}).val(e.filename)},error:errorHandler=function(a){alert("Something went wrong!"),console.log(a)}})))})}(jQuery,window,document),function(a,e,r){a(".start_at").length>0&&a(".start_at").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm"}),a(".end_at").length>0&&a(".end_at").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm"}),a("input.numberonly").on("keypress keydown",function(a){return n=(e=(e=a)||event).charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,console.log(n),!(n>31&&(n<37||n>40)&&(n<48||n>57)&&46!=n&&(n>190||n<190)&&(n>116||n<116)&&(alert("Hanya Nomor yang bisa di input pada kolom ini."),1));var e,n}),a("input.letteronly").on("keypress",function(a){return!((n=(e=(e=a)||event).charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0)>31&&(n<65||n>90)&&(n<97||n>122)&&(alert("hanya huruf saja."),1));var e,n}),a("th.check-all").on("change",function(){console.log(this);var e=a(this),n=e.index()+1,t=e.find('input[type="checkbox"]');e.parents("table").find("tbody > tr > td:nth-child("+n+') input[type="checkbox"]').prop("checked",t[0].checked)}),l("/api/getprovinsi").then(function(a){for(var e='<option value="0">Pilih Provinsi..</option>',t=0;t<a.length;t++){var i=a[t].kode_prov==$("#kode_prov").val()?"selected":"";e+='<option value="'+a[t].kode_prov+'"'+i+">"+a[t].nama_provinsi+"</option>"}n.html(e),$("#loader-wrapper").hide()}),null!=a("#kode_prov").val()&&s(a("#kode_prov").val()),n.on("change",function(){s(a(this).val())}),null!=a("#kode_kab").val()&&d(a("#kode_kab").val()),t.on("change",function(){d(a(this).val())}),null!=a("#kode_kec").val()&&p(a("#kode_kec").val()),i.on("change",function(){p(a(this).val())}),a("#checkmap").click(function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude,e.coords.longitude,a("input[name=latitude]").val(e.coords.latitude),a("input[name=longitude]").val(e.coords.longitude)},function(){}):alert("Browser anda tidak mendukung Geolocation")}),a("#dari_km").on("change focusout",function(){a("#sampai_km").attr("data-max",parseInt(a(this).val())+100),a("#sampai_km").attr("data-min",parseInt(a(this).val()))}),a("#sampai_km").on("change keyup",function(){var e=a(this);parseInt(e.val())>parseInt(e.attr("data-max"))?e.val(e.attr("data-max")):parseInt(e.val())<parseInt(e.attr("data-min"))&&alert("Data Sampai KM tidak boleh lebih kecil")}),a("input#ptk_baik_persentase").on("keyup change paste",function(e){var n=a(this).val();n>100&&(n=100),a(this).val(n);var t=n/100*a("input#panjang").val();a("input#ptk_baik_km").val(t.toFixed(2))}),a("input#ptk_baik_km").on("keyup change paste",function(e){var n=a(this).val(),t=a("input#panjang").val();n>t&&(n=t),a(this).val(n);var i=n/t*100,r=Math.round(i);a("input#ptk_baik_persentase").val(r)}),a("input#ptk_sedang_persentase").on("keyup change paste",function(e){var n=a(this).val();n>100&&(n=100),a(this).val(n);var t=n/100*a("input#panjang").val();a("input#ptk_sedang_km").val(t.toFixed(2))}),a("input#ptk_sedang_km").on("keyup change paste",function(e){var n=a(this).val(),t=a("input#panjang").val();n>t&&(n=t),a(this).val(n);var i=n/t*100,r=Math.round(i);a("input#ptk_sedang_persentase").val(r)}),a("input#ptk_rusakringan_persentase").on("keyup change paste",function(e){var n=a(this).val();n>100&&(n=100),a(this).val(n);var t=n/100*a("input#panjang").val();a("input#ptk_rusakringan_km").val(t.toFixed(2))}),a("input#ptk_rusakringan_km").on("keyup change paste",function(e){var n=a(this).val(),t=a("input#panjang").val();n>t&&(n=t),a(this).val(n);var i=n/t*100,r=Math.round(i);a("input#ptk_rusakringan_persentase").val(r)}),a("input#ptk_rusakberat_persentase").on("keyup change paste",function(e){var n=a(this).val();n>100&&(n=100),a(this).val(n);var t=n/100*a("input#panjang").val();a("input#ptk_rusakberat_km").val(t.toFixed(2))}),a("input#ptk_rusakberat_km").on("keyup change paste",function(e){var n=a(this).val(),t=a("input#panjang").val();n>t&&(n=t),a(this).val(n);var i=n/t*100,r=Math.round(i);a("input#ptk_rusakberat_persentase").val(r)}),a("form#formSKJ input#nilai_sdi").on("keyup change paste",function(e){var n=a("input#sampai_km").val(),t=a("input#dari_km").val(),i=a("input#nilai_iri").val(),r=a("input#nilai_sdi").val();getSdiIri(n,t,r,i)}),a("form#formSKJ input#nilai_iri").on("keyup change paste",function(e){var n=a("input#sampai_km").val(),t=a("input#dari_km").val(),i=a("input#nilai_iri").val(),r=a("input#nilai_sdi").val();console.log(n,t,r,i),getSdiIri(n,t,r,i)}),a("form#formSKJ input.kl_jml_lubang").on("keyup change paste",function(e){var n=a(this).filter(function(){return a(this).prop("checked")}),t=a("input.retak_luas:checked").val(),i=a("input.retak_lebar:checked").val(),r=n.val(),o=a("input.kl_bekas_roda:checked").val();getSdi(t,i,r,o),getSdiIri(a("input#sampai_km").val(),a("input#dari_km").val(),a("input#nilai_sdi").val(),a("input#nilai_iri").val())}),a("form#formSKJ input.kl_bekas_roda").on("keyup change paste",function(e){var n=a(this).filter(function(){return a(this).prop("checked")}),t=a("input.retak_luas:checked").val(),i=a("input.retak_lebar:checked").val(),r=a("input.kl_jml_lubang:checked").val(),o=n.val();getSdi(t,i,r,o),getSdiIri(a("input#sampai_km").val(),a("input#dari_km").val(),a("input#nilai_sdi").val(),a("input#nilai_iri").val())}),String.prototype.replaces=function(a,e){return-1===this.indexOf(a)?this:this.replace(a,e).replaces(a,e)},a(".currency, .number").on("keyup",function(){a(this).val(function(a){var e=a.toString().replace("$",""),n=!1,t=[],i=1;e.indexOf(".")>0&&(n=e.split("."),e=n[0]);for(var r=0,o=(e=e.split("").reverse()).length;r<o;r++)","!=e[r]&&(t.push(e[r]),i%3==0&&r<o-1&&t.push(","),i++);return t.reverse().join("")+(n?"."+n[1].substr(0,2):"")}(a(this).val()))}),a("#btnMStation").on("click",function(){o("http://ptnkonekthing.localhost/welcome/managestat","station="+a("#mStation").val(),"POST",function(a){200===a.code?e.location.reload(!0):alert(a.message)})})}(jQuery,window,document)}}),function(a){var e={};function n(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return a[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=a,n.c=e,n.d=function(a,e,t){n.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:t})},n.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,e){if(1&e&&(a=n(a)),8&e)return a;if(4&e&&"object"==typeof a&&a&&a.__esModule)return a;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var i in a)n.d(t,i,function(e){return a[e]}.bind(null,i));return t},n.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(e,"a",e),e},n.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},n.p="/",n(n.s=269)}({269:function(a,e,n){a.exports=n(270)},270:function(a,e){var n=function(){!function(){if($().DataTable){$.extend($.fn.dataTable.defaults,{autoWidth:!1,responsive:!0,dom:'<"datatable-header"fl><"datatable-scroll-wrap"t><"datatable-footer"ip>',language:{decimal:"",emptyTable:"Tidak ada data",info:"Menampilkan _START_ sampai _END_ dari _TOTAL_ data",infoEmpty:"Menampilkan 0 sampai 0 dari 0 data",infoFiltered:"(dari _MAX_ total data)",infoPostFix:"",thousands:",",lengthMenu:"Data _MENU_ ",loadingRecords:"Tunggu Sebentar...",processing:"Proses...",search:"Cari:",zeroRecords:"Tidak ada data yang dicari..",paginate:{first:"<i class='fa fa-step-backward'></i>",last:"<i class='fa fa-step-forward'></i>",next:"<i class='fa fa-forward'></i>",previous:"<i class='fa fa-backward'></i>"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}}),$(".datatable-responsive").DataTable(),$(".datatable-responsive-column-controlled").DataTable({responsive:{details:{type:"column"}},columnDefs:[{className:"control",orderable:!1,targets:0},{width:"100px",targets:[6]},{orderable:!1,targets:[6]}],order:[1,"asc"]}),$(".datatable-responsive-control-right").DataTable({responsive:{details:{type:"column",target:-1}},columnDefs:[{className:"control",orderable:!1,targets:-1},{width:"100px",targets:[5]},{orderable:!1,targets:[5]}]}),$(".datatable-responsive-row-control").DataTable({responsive:{details:{type:"column",target:"tr"}},columnDefs:[{className:"control",orderable:!1,targets:0},{width:"100px",targets:[6]},{orderable:!1,targets:[6]}],order:[1,"asc"]}),$("#table_dom").DataTable(),$("#table_user").DataTable(),$("#table_role").DataTable({});var a=$("#table_jalan").DataTable({processing:!0,serverSide:!0,responsive:!0,ajax:{url:Laravel.serverUrl+"/api/jalan?token="+Laravel.api_token,data:function(a){a.q=$("input#q").val()},headers:{Authorization:"Bearer "+Laravel.api_token,Accept:"application/json"},beforeSend:function(a){a.setRequestHeader("token",Laravel.api_token)}},columns:[{data:"action",name:"action",orderable:!1,searchable:!1},{data:"no_ruas",name:"no_ruas"},{data:"nama_ruas",name:"nama_ruas"},{data:"nama_kecamatan",name:"nama_kecamatan"},{data:"panjang",name:"panjang"},{data:"lebar",name:"lebar"},{data:"ptjp_aspal",name:"ptjp_aspal"},{data:"ptjp_beton",name:"ptjp_beton"},{data:"ptjp_kerikil",name:"ptjp_kerikil"},{data:"ptjp_tanah",name:"ptjp_tanah"},{data:"akses_jalan",name:"akses_jalan"},{data:"pembiayaan",name:"pembiayaan"},{data:"tahun",name:"tahun"}],order:[[1,"asc"]],dom:'<"row"<"col-md-5"<"#sc">><"col-md-7"<Bl>><"col-md-12"t><"col-md-5"i><"col-md-7"p>>',lengthMenu:[[10,25,50,-1],[10,25,50,"Semua"]],buttons:[{extend:"pdfHtml5",text:'<i class="fa fa-file-pdf-o"></i><b> PDF</b>',orientation:"landscape",pageSize:"A4",className:"btn btn-danger btn-sm",exportOptions:{modifier:{page:"current"},columns:[1,2,3,4,5,6,7,8,9],search:"applied",order:"applied"},init:function(a,e,n){console.log($(n.className).prev()),$(e.parentElement).removeClass("btn-group")}},{extend:"excelHtml5",text:'<i class="fa fa-file-excel-o"></i><b> Excel</b>',className:"btn bg-olive btn-sm",exportOptions:{columns:[1,2,3,4,5,6,7,8,9]}}]});$("#table_jalan_search_form").on("submit",function(e){a.draw(),e.preventDefault(),console.log(e)}),$("#table_jalan tbody").on("click","a",function(e){var n=a.row($(this).parents("tr")).data();if(!$(this).hasClass("disabled"))if($(this).hasClass("btn-delete")){console.log(n);var t=$(this).parent(),i=t.attr("data-title"),r=t.attr("data-message"),o=t.attr("data-form"),l=jQuery("<form>",{action:Laravel.serverUrl+"/backend/jalan/"+n.id,target:"_top",method:"post"}).append(jQuery("<input>",{name:"_method",value:"DELETE",type:"hidden"})).append($("<input />",{name:"_token",value:$('meta[name="_token"]').attr("content"),type:"hidden"}));$("#formConfirm").find("#frm_body").html("<h6>"+r+"</h6>").append(l).end().find("#frm_title").html(i).end().modal("show"),$("#formConfirm").find("#frm_submit").attr("data-form",o),$("#formConfirm").on("click","#frm_submit",function(a){l.submit()})}else if($(this).hasClass("btn-stripmap")){i="Strip Map";var s=document.createElement("canvas");s.setAttribute("width",550),s.getContext("2d");var d="";$.ajax({type:"GET",url:Laravel.serverUrl+"/backend/jalan/"+n.id+"/stripmap",datatype:"html",success:function(a){d=a,$("#formInfo").find("#frm_body").css({"overflow-y":"auto"}).append(d).end().find("#frm_title").html(i).end().modal("show")},error:function(){console.log("There was a problem with mainLoader request.")},complete:function(a){}})}}),$("#table_jalan_search_form").appendTo($("#sc"));var e=$("#table_djalan").DataTable({processing:!0,serverSide:!0,responsive:!0,ajax:{url:Laravel.serverUrl+"/api/djalan/dt/"+$("input#jalan_id_primary").val(),data:function(a){a.q=$("input#q").val()}},columns:[{data:"action",name:"action",orderable:!1,searchable:!1},{data:"dari_km",name:"dari_km"},{data:"sampai_km",name:"sampai_km"},{data:"tipe_jalan",name:"tipe_jalan"},{data:"nilai_iri",name:"nilai_iri"},{data:"nilai_sdi",name:"nilai_sdi"},{data:"k_baik",name:"k_baik"},{data:"k_sedang",name:"k_sedang"},{data:"k_rusakringan",name:"k_rusakringan"},{data:"k_rusakberat",name:"k_rusakberat"},{data:"lajur",name:"lajur"}],order:[[1,"asc"]],dom:'<"row"<t><"col-md-5"i><"col-md7"p>>'});$("#table_djalan tbody").on("click","a",function(a){a.preventDefault();var n=e.row($(this).parents("tr")).data();if($(this).hasClass("btn-edit")){var t=$("#form-djalan").find("input[name=nilai_iri]").val();$("form#formSKJ").find("input[name=id]").val(n.id),$("form#formSKJ").find("input[name=jalan_id]").val(n.jalan_id),$("form#formSKJ").find("input[name=dari_km]").val(n.dari_km),$("form#formSKJ").find("input[name=sampai_km]").val(n.sampai_km),$("form#formSKJ").find("input[name=nilai_iri]").val(n.nilai_iri),$("#form-djalan").find("input[name=pp_susunan][value='"+n.pp_susunan+"']").prop("checked",!0),$("#form-djalan").find("input[name=pp_kondisi][value='"+n.pp_kondisi+"']").prop("checked",!0),$("#form-djalan").find("input[name=pp_penurunan][value='"+n.pp_penurunan+"']").prop("checked",!0),$("#form-djalan").find("input[name=pp_tambalan][value='"+n.pp_tambalan+"']").prop("checked",!0),$("#form-djalan").find("input[name=retak_jenis][value='"+n.retak_jenis+"']").prop("checked",!0),$("#form-djalan").find("input[name=retak_lebar][value='"+n.retak_lebar+"']").prop("checked",!0),$("#form-djalan").find("input[name=retak_luas][value='"+n.retak_luas+"']").prop("checked",!0),$("#form-djalan").find("input[name=kl_jml_lubang][value='"+n.kl_jml_lubang+"']").prop("checked",!0),$("#form-djalan").find("input[name=kl_ukuran_lubang][value='"+n.kl_ukuran_lubang+"']").prop("checked",!0),$("#form-djalan").find("input[name=kl_bekas_roda][value='"+n.kl_bekas_roda+"']").prop("checked",!0),$("#form-djalan").find("input[name=kl_kt_kiri][value='"+n.kl_kt_kiri+"']").prop("checked",!0),$("#form-djalan").find("input[name=kl_kt_kanan][value='"+n.kl_kt_kanan+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_kondisibahu_kiri][value='"+n.kss_kondisibahu_kiri+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_kondisibahu_kanan][value='"+n.kss_kondisibahu_kanan+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_permukaanbahu_kiri][value='"+n.kss_permukaanbahu_kiri+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_permukaanbahu_kanan][value='"+n.kss_permukaanbahu_kanan+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_kiri][value='"+n.kss_kiri+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_kanan][value='"+n.kss_kanan+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_kerusakanlereng_kiri][value='"+n.kss_kerusakanlereng_kiri+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_kerusakanlereng_kanan][value='"+n.kss_kerusakanlereng_kanan+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_trotoar_kiri][value='"+n.kss_trotoar_kiri+"']").prop("checked",!0),$("#form-djalan").find("input[name=kss_trotoar_kanan][value='"+n.kss_trotoar_kanan+"']").prop("checked",!0);var i=getjson(Laravel.serverUrl+"/api/formskj/summary/"+n.retak_luas+"/"+n.retak_lebar+"/"+n.kl_jml_lubang+"/"+n.kl_bekas_roda);$("#form-djalan").find("p.p_retakluas").text(i.sdi_retak_luas),$("#form-djalan").find("p.p_retaklebar").text(i.sdi_retak_lebar),$("#form-djalan").find("p.p_jumlahlubang").text(i.sdi_jumlahlubang),$("#form-djalan").find("p.p_bekasroda").text(i.sdi_bekasroda),$("#form-djalan").find("p.p_nilaisdi").text(i.nilai_sdi),$("#form-djalan").find("input[name=nilai_sdi]").val(i.nilai_sdi);var r=getjson(Laravel.serverUrl+"/api/formskj/sdiiri/?sampai_km="+n.sampai_km+"&dari_km="+n.dari_km+"&nilai_iri="+t+"&nilai_sdi="+i.nilai_sdi);console.log(r),$("#form-djalan").find("input[name=k_baik]").val(r.baik),$("#form-djalan").find("input[name=k_sedang]").val(r.sedang),$("#form-djalan").find("input[name=k_rusakringan]").val(r.rusakringan),$("#form-djalan").find("input[name=k_rusakberat]").val(r.rusakberat),$("#form-djalan").find("input[name=pp_kemiringan_melintang]").val(n.pp_kemiringan_melintang),$("#form-djalan").find("input[name=pp_erosi_permukaan]").val(n.pp_erosi_permukaan),$("#form-djalan").find("input[name=kerikil_ukuranterbanyak]").val(n.kerikil_ukuranterbanyak),$("#form-djalan").find("input[name=kerikil_teballapisan]").val(n.kerikil_teballapisan),$("#form-djalan").find("input[name=kerikil_distribual]").val(n.kerikil_distribual),$("#form-djalan").find("input[name=kl_bergelombang]").val(n.kl_bergelombang),$("#form-djalan").modal("show")}else{var o=$(this).parent(),l=o.attr("data-title"),s=o.attr("data-message"),d=o.attr("data-form"),p=jQuery("<form>",{action:"/backend/jalan/detil/"+n.id+"/delete",target:"_top",method:"post"}).append(jQuery("<input>",{name:"_method",value:"DELETE",type:"hidden"})).append($("<input />",{name:"_token",value:$('meta[name="_token"]').attr("content"),type:"hidden"}));$("#formConfirm").find("#frm_body").html("<h6>"+s+"</h6>").append(p).end().find("#frm_title").html(l).end().modal("show"),$("#formConfirm").find("#frm_submit").attr("data-form",d),$("#formConfirm").on("click","#frm_submit",function(a){p.submit()})}}),$("button").on("click",".btn-tambah-djalan",function(a){$("#form-djalan").modal("show")}),$("#tambahskj").on("click",function(){var a={id:$("#id").val(),jalan_id:$("#jalan_id").val(),dari_km:$("#dari_km").val(),sampai_km:$("#sampai_km").val(),tipe_jalan:$("#tipe_jalan").val(),nilai_iri:$("#nilai_iri").val(),nilai_sdi:$("#nilai_sdi").val(),pp_susunan:$('input[name="pp_susunan"]:checked').val(),pp_kondisi:$('input[name="pp_kondisi"]:checked').val(),pp_penurunan:$('input[name="pp_penurunan"]:checked').val(),retak_jenis:$('input[name="retak_jenis"]:checked').val(),kerikil_ukuranterbanyak:$('input[name="kerikil_ukuranterbanyak"]:checked').val(),kerikil_teballapisan:$('input[name="kerikil_teballapisan"]:checked').val(),kerikil_distribual:$('input[name="kerikil_distribual"]:checked').val(),kl_gelombang:$('input[name="kl_gelombang"]:checked').val(),kl_jml_lubang:$('input[name="kl_jml_lubang"]:checked').val(),kl_ukuran_lubang:$('input[name="kl_ukuran_lubang"]:checked').val(),kl_bekas_roda:$('input[name="kl_bekas_roda"]:checked').val(),kl_kt_kiri:$('input[name="kl_kt_kiri"]:checked').val(),kl_kt_kanan:$('input[name="kl_kt_kanan"]:checked').val(),kss_kondisibahu_kiri:$('input[name="kss_kondisibahu_kiri"]:checked').val(),kss_kondisibahu_kanan:$('input[name="kss_kondisibahu_kanan"]:checked').val(),kss_permukaanbahu_kiri:$('input[name="kss_permukaanbahu_kiri"]:checked').val(),kss_permukaanbahu_kanan:$('input[name="kss_permukaanbahu_kanan"]:checked').val(),kss_kiri:$('input[name="kss_kiri"]:checked').val(),kss_kanan:$('input[name="kss_kanan"]:checked').val(),kss_kerusakanlereng_kiri:$('input[name="kss_kerusakanlereng_kiri"]:checked').val(),kss_kerusakanlereng_kanan:$('input[name="kss_kerusakanlereng_kanan"]:checked').val(),kss_trotoar_kiri:$('input[name="kss_trotoar_kiri"]:checked').val(),kss_trotoar_kanan:$('input[name="kss_trotoar_kanan"]:checked').val(),no_ruas:$('input[name="no_ruas"]').val(),lajur:$("#lajur").val(),panjang:$('input[name="panjang"]').val(),lebar:$('input[name="lebar"]').val(),k_baik:$('input[name="k_baik"]').val(),k_sedang:$('input[name="k_sedang"]').val(),k_rusakringan:$('input[name="k_rusakringan"]').val(),k_rusakberat:$('input[name="k_rusakberat"]').val()};$.post("".concat(Laravel.serverUrl,"/backend/jalan/detil/post"),a).done(function(a){console.log(a),$("#form-djalan").modal("hide")}),e.draw(!0)});var n=$("#table_layer").DataTable({order:[[1,"asc"]],dom:'<"row"<"col-md-5"l><"col-md-7"<"#sc"f>><"col-md-12"t><"col-md-5"i><"col-md-7"p>>',lengthMenu:[[10,25,50,-1],[10,25,50,"Semua"]]});$("#table_layer tbody").on("click","a",function(a){var e=n.row($(this).parents("tr")).data();if(!$(this).hasClass("disabled")&&$(this).hasClass("btn-delete")){console.log(e);var t=$(this).parent(),i=t.attr("data-title"),r=t.attr("data-message"),o=t.attr("data-form"),l=jQuery("<form>",{action:Laravel.serverUrl+"/backend/jalan/"+e.id,target:"_top",method:"post"}).append(jQuery("<input>",{name:"_method",value:"DELETE",type:"hidden"})).append($("<input />",{name:"_token",value:$('meta[name="_token"]').attr("content"),type:"hidden"}));$("#formConfirm").find("#frm_body").html("<h6>"+r+"</h6>").append(l).end().find("#frm_title").html(i).end().modal("show"),$("#formConfirm").find("#frm_submit").attr("data-form",o),$("#formConfirm").on("click","#frm_submit",function(a){l.submit()})}})}else console.warn("Warning - datatables.min.js is not loaded.")}(),$().select2?$(".dataTables_length select").select2({minimumResultsForSearch:1/0,dropdownAutoWidth:!0,width:"auto"}):console.warn("Warning - select2.min.js is not loaded.")};document.addEventListener("DOMContentLoaded",function(){n()})}});
